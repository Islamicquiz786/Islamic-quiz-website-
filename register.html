<!doctype html>
<html lang="en">    
<head>    
  <meta charset="UTF-8">    
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">    
  <title>Islamic Quiz Earning Platform - Register</title>    
  <link rel="preconnect" href="https://fonts.googleapis.com">  
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>  
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&display=swap" rel="stylesheet">  
  <style>    
    * {    
      margin: 0;    
      padding: 0;    
      box-sizing: border-box;    
      font-family: 'Orbitron', sans-serif;    
    }    
    body, html {  
      height: 100%;  
      width: 100%;  
      overflow-x: hidden;  
    }  
      
    body {    
      min-height: 100vh;  
      background: url('https://github.com/Islamicquiz786/Sahil-Images-/raw/main/ee4300b6-1a52-426c-97e2-634d0ca398a7.jpeg') no-repeat center center fixed;    
      background-size: cover;    
      display: flex;    
      justify-content: center;    
      align-items: center;    
      position: relative;    
    }    

    .overlay {    
      position: absolute;    
      inset: 0;    
      background: rgba(0, 0, 0, 0.65);    
      backdrop-filter: blur(10px);    
      z-index: 1;    
    }    

    .register-box {    
      position: relative;    
      z-index: 10;    
      background: rgba(255, 255, 255, 0.05);    
      border: 2px solid rgba(255, 255, 255, 0.2);    
      border-radius: 20px;    
      padding: 25px;    
      width: 95%;  
      max-width: 400px;  
      box-shadow: 0 0 25px #00ffe5;    
      animation: glow 3s infinite alternate;    
      margin: 20px 0;  
    }    

    @keyframes glow {    
      from { box-shadow: 0 0 15px #00ffe5; }    
      to { box-shadow: 0 0 30px #00ffe5, 0 0 60px #00ffe5; }    
    }    

    .register-box h2 {    
      color: #00ffe5;    
      text-align: center;    
      margin-bottom: 20px;    
      text-shadow: 0 0 10px #00ffe5;    
      font-size: 1.5rem;  
    }    

    .register-box input,    
    .register-box select {    
      width: 100%;    
      margin-bottom: 15px;    
      padding: 12px;    
      border: none;    
      border-radius: 8px;    
      background: rgba(255, 255, 255, 0.1);    
      color: #fff;    
      font-size: 14px;    
      transition: 0.3s;    
    }    

    .register-box input::placeholder {    
      color: #ccc;    
    }    

    .register-box input:focus,    
    .register-box select:focus {    
      outline: none;    
      background: rgba(255, 255, 255, 0.2);    
      box-shadow: 0 0 10px #00ffe5;    
    }    

    .register-box button {    
      width: 100%;    
      padding: 12px;    
      font-size: 16px;    
      background: #00ffe5;    
      color: #000;    
      border: none;    
      border-radius: 8px;    
      cursor: pointer;    
      box-shadow: 0 0 15px #00ffe5, 0 0 40px #00ffe5 inset;    
      transition: 0.3s ease-in-out;    
      margin-top: 10px;  
    }    

    .register-box button:hover {    
      background: #000;    
      color: #00ffe5;    
      box-shadow: 0 0 20px #00ffe5, 0 0 60px #00ffe5 inset;    
    }    

    .register-box label {    
      color: #00ffe5;    
      font-size: 14px;    
      margin-bottom: 6px;    
      display: block;    
      text-shadow: 0 0 5px #00ffe5;    
    }    

    .error-message {    
      color: #ff4b4b;    
      font-size: 12px;    
      text-align: center;    
      margin-top: -10px;    
      margin-bottom: 10px;    
      text-shadow: 0 0 5px #ff0000;    
      display: none;    
    }    

    .success-message {    
      color: #39ff14;    
      text-align: center;    
      margin-bottom: 15px;    
      text-shadow: 0 0 5px #39ff14;    
      display: none;    
      font-size: 14px;  
      line-height: 1.4;  
    }    

    .login-link {    
      text-align: center;    
      margin-top: 20px;    
      font-size: 14px;    
      color: #00ffe5;    
    }    

    .login-link a {    
      color: #39ff14;    
      font-weight: bold;    
      text-decoration: none;    
      text-shadow: 0 0 5px #39ff14;    
    }    

    .payment-details {    
      display: none;    
      margin-bottom: 15px;    
      padding: 15px;    
      background: rgba(0, 0, 0, 0.2);    
      border-radius: 8px;    
      border-left: 3px solid #00ffe5;    
    }  
      
    .islamic-verse {  
      text-align: center;  
      color: #00ffe5;  
      margin-top: 20px;  
      font-size: 14px;  
      line-height: 1.6;  
      text-shadow: 0 0 5px #00ffe5;  
    }  
    
    .loading {
      display: none;
      color: #00ffe5;
      text-align: center;
      margin: 15px 0;
      text-shadow: 0 0 5px #00ffe5;
      font-size: 14px;
    }
      
    @media (max-width: 480px) {  
      .register-box {  
        padding: 20px 15px;  
      }  
        
      .register-box h2 {  
        font-size: 1.3rem;  
      }  
        
      .register-box input,  
      .register-box select {  
        padding: 10px;  
        font-size: 13px;  
      }  
    }
  </style>    
</head>    
<body>    
  <div class="overlay"></div>    
  <div class="register-box">    
    <h2>Islamic Quiz Earning Platform</h2>    
    <div id="successMessage" class="success-message"></div>    
    <form id="registerForm">    
      <label for="username">Username (1-10 Characters)</label>    
      <input type="text" id="username" minlength="1" maxlength="10" required placeholder="Enter username (1-10 characters)">    
      <div id="usernameError" class="error-message"></div>  
      
      <label for="whatsapp">WhatsApp Number (11 Digits)</label>    
      <input type="text" id="whatsapp" required placeholder="03XXXXXXXXX" inputmode="numeric" maxlength="11">    
      <div id="whatsappError" class="error-message"></div>    
      
      <label for="plan">Select Investment Plan</label>    
      <select id="plan" required>    
        <option value="">Select Plan</option>    
        <option value="1000">Plan 1000 → Daily 600 | Referral: 300/member</option>    
        <option value="1500">Plan 1500 → Daily 900 | Referral: 600/member</option>    
        <option value="2000">Plan 2000 → Daily 1200 | Referral: 900/member</option>    
      </select>    
      
      <label for="payment">Payment Method</label>    
      <select id="payment" required>    
        <option value="">Select Payment Method</option>    
        <option value="easypaisa">Easypaisa</option>    
        <option value="jazzcash">JazzCash</option>    
      </select>    
      
      <div id="paymentDetails" class="payment-details">    
        <label for="accountNumber">Account Number (11 Digits)</label>    
        <input type="text" id="accountNumber" placeholder="Enter 11 digit account number" inputmode="numeric" maxlength="11">    
        <div id="accountNumberError" class="error-message"></div>
            
        <label for="accountName">Account Holder Name</label>    
        <input type="text" id="accountName" placeholder="e.g. Nudba">    
            
        <label for="screenshot">Upload Payment Screenshot</label>    
        <input type="file" id="screenshot" accept="image/*">    
      </div>    
      
      <button type="button" id="continueBtn">Continue to Next Step</button>    
      <div id="loading" class="loading">⏳ Please wait... Submitting your registration.</div>
    </form>    
    <div class="login-link">    
      Already have an account? <a href="index.html">Login Here</a>    
    </div>  
    <div class="islamic-verse">  
      ﴿ وَقُلْ رَبِّ زِدْنِي عِلْمًا ﴾<br>  
      اور دعا کرو: اے میرے رب! میرے علم میں اضافہ فرما۔<br>  
      (سورۃ طٰہٰ - آیت 114)  
    </div>
  </div>    

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Real-time validation for username (1-10 characters)  
      document.getElementById('username').addEventListener('input', function(e) {  
        if (this.value.length > 10) {  
          this.value = this.value.slice(0, 10);  
          document.getElementById('usernameError').textContent = 'Username must be 1-10 characters';  
          document.getElementById('usernameError').style.display = 'block';  
        } else {  
          document.getElementById('usernameError').style.display = 'none';  
        }  
      });  
  
      // Real-time validation for WhatsApp (exactly 11 digits)
      document.getElementById('whatsapp').addEventListener('input', function(e) {
        this.value = this.value.replace(/[^0-9]/g, '');
        if (this.value.length > 11) {
          this.value = this.value.slice(0, 11);
        }
        if (this.value.length > 0 && this.value.length !== 11) {
          document.getElementById('whatsappError').textContent = 'Must be exactly 11 digits';
          document.getElementById('whatsappError').style.display = 'block';
        } else {
          document.getElementById('whatsappError').style.display = 'none';
        }
      });

      // Real-time validation for account number (exactly 11 digits)
      document.getElementById('accountNumber').addEventListener('input', function(e) {
        this.value = this.value.replace(/[^0-9]/g, '');
        if (this.value.length > 11) {
          this.value = this.value.slice(0, 11);
        }
        if (this.value.length > 0 && this.value.length !== 11) {
          document.getElementById('accountNumberError').textContent = 'Must be exactly 11 digits';
          document.getElementById('accountNumberError').style.display = 'block';
        } else {
          document.getElementById('accountNumberError').style.display = 'none';
        }
      });
  
      // Show payment details when payment method is selected    
      document.getElementById("payment").addEventListener("change", function() {    
        const paymentDetails = document.getElementById("paymentDetails");    
        if (this.value === "easypaisa" || this.value === "jazzcash") {    
          paymentDetails.style.display = "block";    
          document.getElementById("screenshot").required = true;    
          document.getElementById("accountNumber").required = true;    
          document.getElementById("accountName").required = true;    
        } else {    
          paymentDetails.style.display = "none";    
          document.getElementById("screenshot").required = false;    
          document.getElementById("accountNumber").required = false;    
          document.getElementById("accountName").required = false;    
        }    
      });    
  
      document.getElementById("continueBtn").addEventListener("click", function() {    
        // Reset error messages    
        document.querySelectorAll('.error-message').forEach(el => {    
          el.style.display = 'none';    
          el.textContent = '';    
        });    
            
        // Get form values    
        const username = document.getElementById("username").value.trim();    
        const whatsapp = document.getElementById("whatsapp").value.trim();    
        const plan = document.getElementById("plan").value;    
        const payment = document.getElementById("payment").value;    
        const accountNumber = document.getElementById("accountNumber")?.value.trim();    
        const accountName = document.getElementById("accountName")?.value.trim();    
        const screenshot = document.getElementById("screenshot")?.files[0];    
            
        // Validate username (1-10 characters)  
        if (username.length < 1 || username.length > 10) {  
          document.getElementById("usernameError").textContent = "Username must be 1-10 characters";  
          document.getElementById("usernameError").style.display = "block";  
          return;  
        }  
  
        // Validate WhatsApp number (11 digits)  
        if (!/^\d{11}$/.test(whatsapp)) {  
          document.getElementById("whatsappError").textContent = "Must be exactly 11 digits";  
          document.getElementById("whatsappError").style.display = "block";  
          return;  
        }  
            
        // Validate plan selection  
        if (!plan) {  
          alert("Please select an investment plan");  
          return;  
        }  
            
        // Validate payment method  
        if (!payment) {  
          alert("Please select a payment method");  
          return;  
        }  
            
        // If payment method requires details, validate them  
        if ((payment === "easypaisa" || payment === "jazzcash")) {  
          if (!accountNumber || !/^\d{11}$/.test(accountNumber)) {
            document.getElementById("accountNumberError").textContent = "Must be exactly 11 digits";  
            document.getElementById("accountNumberError").style.display = "block";  
            return;
          }
          if (!accountName) {  
            alert("Please enter account holder name");  
            return;  
          }  
          if (!screenshot) {  
            alert("Please upload payment screenshot");  
            return;  
          }  
        }  
            
        // Show loading message
        document.getElementById('loading').style.display = 'block';
        document.getElementById('continueBtn').style.display = 'none';
            
        // Store form data in localStorage to pass to next page
        const formData = {
          username,
          whatsapp,
          plan,
          payment,
          accountNumber: accountNumber || "",
          accountName: accountName || "",
          hasScreenshot: !!screenshot
        };
        
        localStorage.setItem('registrationData', JSON.stringify(formData));
        
        // If screenshot exists, convert to base64 and store
        if (screenshot) {
          const reader = new FileReader();
          reader.onload = function(e) {
            localStorage.setItem('paymentScreenshot', e.target.result);
            window.location.href = "page.html";
          };
          reader.readAsDataURL(screenshot);
        } else {
          window.location.href = "page.html";
        }
      });    
    });
  </script>
</body>    
</html>
